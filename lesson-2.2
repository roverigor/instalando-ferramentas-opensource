# Lesson 2.2: Sua Primeira Ferramenta - n8n

**MÃ³dulo:** 2 - Suas Primeiras InstalaÃ§Ãµes  
**DuraÃ§Ã£o:** 15 minutos  
**Objetivo:** Instalar e configurar n8n funcionando na sua VPS

---

## ğŸ¯ O Que VocÃª Vai Conquistar Aqui

- [ ] Entender o que Ã© n8n e por que vale a pena
- [ ] Instalar n8n usando OrionDesign/Portainer
- [ ] Configurar subdomÃ­nio para acessar o n8n
- [ ] Acessar a interface do n8n via HTTPS
- [ ] Criar seu primeiro workflow de teste

---

## ğŸ’° n8n: AutomaÃ§Ã£o Sem Pagar Caro

Fala lendÃ¡rio! Agora vem a parte boa: instalar sua **primeira ferramenta profissional**.

E olha sÃ³ que ferramenta incrÃ­vel vocÃª vai ter rodando na sua VPS...

### **O Que Ã© n8n?**

O **n8n** Ã© uma ferramenta de **automaÃ§Ã£o de processos**. Pensa no Zapier ou Make.com, mas:
- âœ… **100% open source** (cÃ³digo aberto)
- âœ… **Self-hosted** (roda na sua VPS)
- âœ… **GrÃ¡tis** (sem limites de execuÃ§Ãµes)

### **ComparaÃ§Ã£o de Custos:**

- ğŸ”´ **n8n Cloud:** R$ 150/mÃªs (plano bÃ¡sico)
- ğŸŸ¢ **n8n Self-Hosted:** R$ 0 (jÃ¡ tÃ¡ incluso na sua VPS de R$ 40/mÃªs)

**Economia mensal: R$ 150** ğŸ‰

### **O Que VocÃª Pode Automatizar?**

Com n8n vocÃª pode conectar **qualquer coisa com qualquer coisa**:

- ğŸ“§ Enviar emails automÃ¡ticos
- ğŸ“Š Integrar planilhas do Google com CRM
- ğŸ¤– Criar chatbots
- ğŸ“± Automatizar WhatsApp
- ğŸ”” Criar notificaÃ§Ãµes
- ğŸ“ Processar arquivos
- ğŸŒ Consumir APIs
- ... e **muito mais**!

---

## ğŸ› ï¸ MÃ£o na Massa: Instalando n8n

Agora vamos instalar o n8n usando o **OrionDesign** que vocÃª jÃ¡ configurou na lesson anterior.

### **Passo 1: Acessar Portainer**

1. Abra seu navegador
2. Acesse: `http://SEU_IP:9000`
3. FaÃ§a login no Portainer
4. VÃ¡ em **Stacks** (menu lateral esquerdo)

### **Passo 2: Acessar OrionDesign**

1. Na lista de Stacks, encontre **oriondesign**
2. Clique no Ã­cone de "link externo" ao lado
3. Ou acesse direto: `http://SEU_IP:1001`
4. VocÃª verÃ¡ a biblioteca de templates

### **Passo 3: Buscar Template do n8n**

1. No OrionDesign, use a **barra de busca**
2. Digite: `n8n`
3. Clique no card do **n8n**
4. VocÃª verÃ¡ a descriÃ§Ã£o da ferramenta

### **Passo 4: Configurar VariÃ¡veis do n8n**

Antes de instalar, vocÃª precisa configurar algumas variÃ¡veis. Vou te explicar cada uma:

**1. SubdomÃ­nio:**
- Campo: `SUBDOMAIN`
- Valor: `n8n` (ou o nome que vocÃª quiser)
- Resultado: VocÃª vai acessar em `n8n.seudominio.com`

**2. DomÃ­nio Principal:**
- Campo: `DOMAIN`
- Valor: `seudominio.com` (seu domÃ­nio que vocÃª registrou)

**3. Email (para SSL):**
- Campo: `EMAIL`
- Valor: Seu email real
- Uso: Para gerar certificado SSL automÃ¡tico

**4. Senha do n8n:**
- Campo: `N8N_BASIC_AUTH_PASSWORD`
- Valor: Crie uma senha forte
- Dica: Use algo como `MinhaSenhaSegura123!`

**5. UsuÃ¡rio do n8n:**
- Campo: `N8N_BASIC_AUTH_USER`
- Valor: Seu nome de usuÃ¡rio (ex: `admin`)

### **Passo 5: Deploy da Stack**

1. ApÃ³s preencher todas as variÃ¡veis, role atÃ© o final
2. Clique no botÃ£o **"Deploy Stack"** ou **"Create Stack"**
3. Aguarde o OrionDesign processar (10-30 segundos)
4. VocÃª serÃ¡ redirecionado para o Portainer

### **Passo 6: Verificar InstalaÃ§Ã£o no Portainer**

1. No Portainer, vÃ¡ em **Stacks**
2. VocÃª verÃ¡ uma nova stack chamada `n8n` (ou o nome que vocÃª deu)
3. Clique na stack
4. VocÃª verÃ¡ os **containers** rodando:
   - `n8n` (aplicaÃ§Ã£o principal)
   - Pode ter outros containers auxiliares (banco de dados, etc.)

5. Clique no container **n8n**
6. VÃ¡ na aba **Logs**
7. Aguarde atÃ© ver mensagens como:
   ```
   Editor is now accessible via:
   https://n8n.seudominio.com
   ```

â±ï¸ **Aguarde 2-5 minutos** para tudo inicializar completamente.

---

## ğŸŒ Acessando o n8n

### **Passo 7: Teste de Acesso**

1. Abra uma **nova aba** no navegador
2. Acesse: `https://n8n.seudominio.com`
3. Se tudo deu certo:
   - âœ… VocÃª verÃ¡ a tela de login do n8n
   - âœ… O cadeado verde (HTTPS) estarÃ¡ ativo
   - âœ… Certificado SSL vÃ¡lido (graÃ§as ao Cloudflare!)

### **Passo 8: Primeiro Login**

1. Digite o **usuÃ¡rio** que vocÃª configurou (ex: `admin`)
2. Digite a **senha** que vocÃª configurou
3. Clique em **Login**
4. **ParabÃ©ns lendÃ¡rio!** VocÃª estÃ¡ dentro do n8n! ğŸ‰

---

## ğŸ¨ Tour pela Interface do n8n

Olha sÃ³ que interface linda vocÃª tem agora rodando na sua VPS!

### **Elementos Principais:**

1. **Workflows** (menu lateral esquerdo)
   - Onde vocÃª cria suas automaÃ§Ãµes

2. **Credentials** (menu lateral)
   - Onde vocÃª guarda suas credenciais de APIs

3. **Executions** (menu lateral)
   - HistÃ³rico de execuÃ§Ãµes dos seus workflows

4. **Settings** (menu lateral)
   - ConfiguraÃ§Ãµes gerais

---

## ğŸ§ª Criando Seu Primeiro Workflow de Teste

Vamos criar um workflow simples para testar se tudo estÃ¡ funcionando.

### **Passo 9: Criar Novo Workflow**

1. Clique em **"New Workflow"** (canto superior direito)
2. VocÃª verÃ¡ um canvas em branco

### **Passo 10: Adicionar NÃ³ de InÃ­cio (Trigger)**

1. Clique no **+** no canvas
2. Busque por: `Manual Trigger`
3. Clique para adicionar
4. Esse nÃ³ permite executar o workflow manualmente

### **Passo 11: Adicionar NÃ³ de AÃ§Ã£o**

1. Clique no **+** Ã  direita do Manual Trigger
2. Busque por: `Set`
3. Clique para adicionar
4. No nÃ³ Set, configure:
   - Name: `teste`
   - Value: `OlÃ¡, meu n8n estÃ¡ funcionando!`

### **Passo 12: Executar Workflow**

1. Clique no botÃ£o **"Execute Workflow"** (canto superior direito)
2. Aguarde alguns segundos
3. VocÃª verÃ¡ os nÃ³s ficarem **verdes** âœ…
4. No nÃ³ Set, vocÃª verÃ¡ o output: `OlÃ¡, meu n8n estÃ¡ funcionando!`

### **Passo 13: Salvar Workflow**

1. Clique em **"Save"** (canto superior direito)
2. DÃª um nome: `Teste - Meu Primeiro Workflow`
3. Clique em **Save**

**Pronto! Seu primeiro workflow foi criado e executado com sucesso!** ğŸš€

---

## âœ… Checklist: VocÃª Conseguiu?

Valida comigo se vocÃª completou tudo:

- [ ] n8n instalado via OrionDesign
- [ ] Acesso funcionando via `https://n8n.seudominio.com`
- [ ] HTTPS (cadeado verde) ativo
- [ ] Login realizado com sucesso
- [ ] Primeiro workflow criado
- [ ] Workflow executado e funcionando
- [ ] Workflow salvo

**Se vocÃª marcou tudo: PARABÃ‰NS LENDÃRIO!** ğŸ‰

VocÃª acabou de economizar **R$ 150/mÃªs** e agora tem uma ferramenta profissional de automaÃ§Ã£o rodando na sua prÃ³pria infraestrutura!

---

## ğŸš¨ Troubleshooting: E Se Algo Deu Errado?

Calma, isso faz parte! Vamos resolver juntos.

### **Problema 1: n8n nÃ£o abre (erro 404 ou timeout)**

**PossÃ­veis causas:**
- DNS ainda nÃ£o propagou completamente
- Container nÃ£o inicializou ainda
- ConfiguraÃ§Ã£o do Cloudflare

**SoluÃ§Ãµes:**
1. Aguarde mais 5-10 minutos para DNS propagar
2. Verifique os logs no Portainer:
   - Stacks â†’ n8n â†’ Container n8n â†’ Logs
   - Procure por erros em vermelho
3. Verifique se o container estÃ¡ rodando:
   - Portainer â†’ Containers
   - Status do n8n deve estar "running"
4. No Cloudflare, verifique:
   - Registro A para `n8n` ou `*` apontando para IP da VPS
   - Proxy (nuvem laranja) deve estar ON
   - SSL/TLS em modo "Full"

### **Problema 2: HTTPS nÃ£o funciona (erro de certificado)**

**PossÃ­veis causas:**
- Cloudflare ainda processando SSL
- Modo SSL/TLS incorreto

**SoluÃ§Ãµes:**
1. Aguarde 5-10 minutos
2. No Cloudflare:
   - SSL/TLS â†’ Overview â†’ Modo "Full"
   - SSL/TLS â†’ Edge Certificates â†’ "Always Use HTTPS" ON
3. Limpe cache do navegador (Ctrl+F5)
4. Tente em navegador anÃ´nimo

### **Problema 3: Erro ao fazer login (credenciais invÃ¡lidas)**

**PossÃ­veis causas:**
- Senha/usuÃ¡rio digitados errados
- VariÃ¡veis configuradas incorretamente

**SoluÃ§Ãµes:**
1. Verifique as variÃ¡veis no Portainer:
   - Stacks â†’ n8n â†’ Editor
   - Verifique `N8N_BASIC_AUTH_USER` e `N8N_BASIC_AUTH_PASSWORD`
2. Se necessÃ¡rio, edite a stack e atualize as credenciais
3. Reinicie o container:
   - Containers â†’ n8n â†’ Restart

### **Problema 4: Container em loop (reiniciando constantemente)**

**PossÃ­veis causas:**
- Falta de recursos (RAM/CPU)
- Erro na configuraÃ§Ã£o

**SoluÃ§Ãµes:**
1. Verifique uso de recursos no Portainer Dashboard
2. Se RAM > 80%: considere upgrade de VPS
3. Verifique logs para identificar erro especÃ­fico
4. Tente remover a stack e criar novamente

---

## ğŸ’¡ Dicas Pro

Agora que vocÃª jÃ¡ tem o n8n rodando, algumas dicas:

1. **Explore Templates Prontos:**
   - n8n.io/workflows (comunidade)
   - Copie workflows prontos e adapte

2. **Conecte Outras Ferramentas:**
   - Google Sheets
   - Notion
   - Slack
   - Email
   - WhatsApp (via Evolution API que vocÃª vai instalar!)

3. **Automatize Seus Processos:**
   - Pense em tarefas repetitivas que vocÃª faz
   - Veja se dÃ¡ pra automatizar com n8n

4. **DocumentaÃ§Ã£o Oficial:**
   - docs.n8n.io
   - Muito completa e em inglÃªs

---

## ğŸ¯ PrÃ³xima Lesson

Na **Lesson 2.3**, vocÃª vai instalar o **Chatwoot** (ferramenta de atendimento ao cliente).

Mais **R$ 100/mÃªs economizados**! ğŸ’°

Vamos continuar economizando e ganhando autonomia!

**Me conta aqui como foi! DÃºvidas? Fique Ã  vontade para encaminhar no suporte.** 

AtÃ© a prÃ³xima, lendÃ¡rio! ğŸš€
